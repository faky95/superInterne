{% extends '::base.html.twig' %}

{% form_theme form 'OrangeMainBundle:FormTheme:fields.html.twig' %}

{% block content -%}
<!-- heading -->
<div class="heading">
	<h3>{% block page_title %} Actions correctives {% endblock %}</h3>                    
</div>
<!-- End .heading-->
<div class="row">
    <div class="col-lg-12">
    	<div class="row">
			<div class="col-lg-4">
				 <a href="#" target="_blank"><button class="btn btn-warning"><span class="icon16 icomoon-icon-list-2 white"></span>Actions correctives</button></a> 
				 <div class="marginB10"></div>
			</div><!-- End .span4 -->
		</div>
    	<div class="panel panel-default">
	         <div class="panel-heading">
				<h4> 
					<span>Ajouter d'une action corrective</span>
				</h4>
	        </div>
	        <div class="panel-body">
		        <form novalidate="novalidate" class="form-horizontal" action="{{ path('creer_signalisation_action', {'signalisation_id': signalisation_id}) }}" method="post" role="form">
						<div class="form-group">
			                {{ form_widget(form.libelle, {'attr': {'class': 'form-control'}} ) }}
			                {{ form_widget(form.typeAction,  {'attr': {'class': 'select form-control', 'style' : 'width: 100%'}}) }}
						</div>
						<div class="form-group">
							{{ form_widget(form.instance,  {'attr': {'class': 'select form-control', 'style' : 'width: 100%'}}) }}
							{{ form_widget(form.domaine,  {'attr': {'class': 'select form-control', 'style' : 'width: 100%'}}) }}
						</div>
						<div class="form-group">
							{{ form_widget(form.porteur,  {'attr': {'class': 'select form-control', 'style' : 'width: 100%'}}) }}
							{{ form_widget(form.priorite,  {'attr': {'class': 'select form-control', 'style' : 'width: 100%'}}) }}
						</div>
						<div class="form-group">
							{{ form_widget(form.groupe,  {'attr': {'class': 'select2 form-control', 'style' : 'width: 100%'}}) }}
							{{ form_widget(form.tmp_contributeur, {'attr': {'class': 'select2 form-control', 'style' : 'width: 100%'}}) }}
						</div>
						<div class="form-group">
							{{ form_widget(form.dateDebut, {'attr': {'class': 'form-control'}}) }}
							{{ form_widget(form.dateInitial, {'attr': {'class': 'form-control'}}) }}
						</div>
							{{ form_row(form.description) }}
		                	{{ form_widget(form._token) }}
			        <div class="form-group">
			        	<div class="col-lg-offset-2 col-lg-9">
							    {{ form_widget(form.save) }}
							    {{ form_widget(form.save_and_add) }}
							    {{ form_widget(form.cancel, {attr: {class: 'btn btn-die'}}) }}
						</div>
					</div><!-- End .form-group  -->  
				</form>
	        </div>
        </div>
    </div><!-- End .span12 -->
</div><!-- End .row -->
{% include 'OrangeMainBundle:Extra:reloadSelect.html.twig' with 
	{parent: form.instance, child: form.typeAction, url: path('typesignalisation_by_instance'), key: 'id' } 
%}
{% include 'OrangeMainBundle:Extra:reloadSelect.html.twig' with 
	{parent: form.instance, child: form.domaine, url: path('domaine_signalisation_by_instance'), key: 'id' } 
%}
{% include 'OrangeMainBundle:Extra:reloadSelect.html.twig' with 
	{parent: form.instance, child: form.porteur, url: path('porteur_by_instance'), key: 'id' } 
%}
{% include 'OrangeMainBundle:Extra:reloadSelect2.html.twig' with 
	{parent: form.instance, child: form.tmp_contributeur, url: path('user_by_instance'), key: 'id' } 
%}
{% endblock %}