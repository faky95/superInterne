{% extends '::base.html.twig' %}

{% block content -%}


<div class="row">
    <div class="col-lg-12">
    	<div class="row">
			<div class="col-lg-8">
				 <a href="{{ path('nouvelle_structure', {'bu_id': entity.id}) }}" target="_blank"><button class="btn btn-warning"><span class="icon16 icomoon-icon-plus white"></span>Ajouter une structure</button></a>
				 <a href="#" target="_blank"><button class="btn btn-success"><span class="icon16 icomoon-icon-download white"></span> Importer des structures </button></a> 
				 <div class="marginB10"></div>
			</div><!-- End .span4 -->
		 </div>
         <div class="panel panel-default gradient invoice">
             <div class="panel-heading clearfix">
  				<h4 class="left">
      				<span class="red">détails sur Bu </strong></span>
                </h4>
             </div>
			<div class="panel-body row" style="margin-left:0; margin-right:0;">
			     <div class="you col-lg-6 col-md-6 col-sm-6" >
			        <ul class="list-unstyled">
			            <li><span class="icon16 icomoon-icon-arrow-right-3"></span>Libellé : <strong class="red">{{ entity.libelle }}</strong></li>
			            <li><span class="icon16 icomoon-icon-arrow-right-3"></span>Niveau max de validations des PA : <strong class="red">N + {{ entity.niveauValidation }}</strong></li>
			        </ul>
			     </div>
			    <div class="you col-lg-12 col-md-6 col-sm-6">                        
					<div class="panel panel-default">
					    <div class="panel-heading" style="background:#FFFFFF">
					        <h4>
					            <span class="icon16 icomoon-icon-list-2 "></span>
					            <span class="red">Liste des structures</span>
					        </h4>
					        <a href="#" class="minimize">Minimize</a>
					    </div>
					    <div class="panel-body noPad">
					        <table class="table table-bordered">
					         {% if entity.structure is defined and entity.structure is not empty %}
					            <thead>
					              <tr style="background:#FFFFFF" align="center">
					                <td><strong>Structure</strong></td>
					                <td><strong>Type de structure</strong></td>
					              </tr>
					            </thead>
					            <tbody>
					            	{% for strc in entity.structure %}
						            	<tr bgcolor="#FFFFFF">
							                <td width="450px" style="text-align: justify">{{ strc.libelle }}</td>
							                <td style="text-align: justify">{{ strc.typeStructure }}</td>
							            </tr>
							        {% endfor %}
					            </tbody>
					        {% else %}
					            <tbody>
						            <tr>
							            <td>
							            	Le bu n'a pas de structure.
							            </td>
						            <tr>
					            </tbody>
					    	{% endif %}
					        </table>
					    </div>
					</div><!-- End .panel -->
				</div><!-- End .span12 -->
				
				<!-- Liste des actions de l'instance  -->
                <div class="you col-lg-12 col-md-6 col-sm-6">                        
					<div class="panel panel-default">
					    <div class="panel-heading" style="background:#FFFFFF">
					        <h4>
					            <span class="icon16 icomoon-icon-list-2 "></span>
					            <span class="red">Liste des instances</span>
					        </h4>
					        <a href="#" class="minimize">Minimize</a>
					    </div>
					    <div class="panel-body noPad">
					        <table class="table table-bordered">
					        	{% if entity.instance is defined and entity.instance is not empty %}
						            <thead>
						              <tr style="background:#FFFFFF" align="center">
						                <td><strong>Libellé</strong></td>
						                <td><strong>Type d'instance</strong></td>
						              </tr>
						            </thead>
						            <tbody>
						            	{% for inst in entity.instance %}
							            	<tr bgcolor="#FFFFFF">
								                <td width="250px" style="text-align: justify">{{ inst.libelle }}</td>
								                <td style="text-align: justify">{{ inst.typeInstance }}</td>
								            </tr>
								        {% endfor %}
						            </tbody>
						         {% else %}
						            <tbody>
							            <tr>
								            <td>
								            	Le bu n'a pas d'instances.
								            </td>
							            <tr>
						            </tbody>
					    		{% endif %}
					        </table>
					    </div>
					</div><!-- End .panel -->
				</div><!-- End .span12 -->
			</div>
         </div><!-- End .panel -->
     </div>
</div><!-- End .row -->
{% endblock %}

		 	